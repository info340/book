<!DOCTYPE html>
<html  lang="en">

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Client-Side Web Development</title>
  <meta name="description" content="The course reader for INFO 340: Client-Side Web Development.">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Client-Side Web Development" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://info340.github.io/" />
  <meta property="og:image" content="https://info340.github.io/img/cover-img.png" />
  <meta property="og:description" content="The course reader for INFO 340: Client-Side Web Development." />
  <meta name="github-repo" content="info340/book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Client-Side Web Development" />
  
  <meta name="twitter:description" content="The course reader for INFO 340: Client-Side Web Development." />
  <meta name="twitter:image" content="https://info340.github.io/img/cover-img.png" />

<meta name="author" content="Joel Ross and Mike Freeman">


<meta name="date" content="2018-11-19">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  <link rel="shortcut icon" href="img/busy-spider-icon.png" type="image/x-icon">
<link rel="prev" href="javascript-libraries.html">
<link rel="next" href="es6.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-98444716-3', 'auto');
  ga('send', 'pageview');

</script>



<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/prism.min.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./" class="title">Client-Side Web Development</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About the Book</a></li>
<li class="chapter" data-level="1" data-path="machine-setup.html"><a href="machine-setup.html"><i class="fa fa-check"></i><b>1</b> Getting Setup</a><ul>
<li class="chapter" data-level="1.1" data-path="machine-setup.html"><a href="machine-setup.html#web-browser"><i class="fa fa-check"></i><b>1.1</b> Web Browser</a></li>
<li class="chapter" data-level="1.2" data-path="machine-setup.html"><a href="machine-setup.html#code-editors"><i class="fa fa-check"></i><b>1.2</b> Code Editors</a><ul>
<li class="chapter" data-level="" data-path="machine-setup.html"><a href="machine-setup.html#visual-studio-code"><i class="fa fa-check"></i>Visual Studio Code</a></li>
<li class="chapter" data-level="" data-path="machine-setup.html"><a href="machine-setup.html#atom"><i class="fa fa-check"></i>Atom</a></li>
<li class="chapter" data-level="" data-path="machine-setup.html"><a href="machine-setup.html#brackets"><i class="fa fa-check"></i>Brackets</a></li>
<li class="chapter" data-level="" data-path="machine-setup.html"><a href="machine-setup.html#sublime-text"><i class="fa fa-check"></i>Sublime Text</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="machine-setup.html"><a href="machine-setup.html#bash-command-line"><i class="fa fa-check"></i><b>1.3</b> Bash (Command Line)</a></li>
<li class="chapter" data-level="1.4" data-path="machine-setup.html"><a href="machine-setup.html#git-and-github"><i class="fa fa-check"></i><b>1.4</b> Git and GitHub</a></li>
<li class="chapter" data-level="1.5" data-path="machine-setup.html"><a href="machine-setup.html#node-and-npm"><i class="fa fa-check"></i><b>1.5</b> Node and <code>npm</code></a><ul>
<li class="chapter" data-level="" data-path="machine-setup.html"><a href="machine-setup.html#managing-packages-with-npm"><i class="fa fa-check"></i>Managing packages with npm</a></li>
<li><a href="machine-setup.html#package.json"><code>package.json</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="machine-setup.html"><a href="machine-setup.html#resources"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="client-side-development.html"><a href="client-side-development.html"><i class="fa fa-check"></i><b>2</b> Client-Side Development</a><ul>
<li class="chapter" data-level="2.1" data-path="client-side-development.html"><a href="client-side-development.html#client-side-file-types"><i class="fa fa-check"></i><b>2.1</b> Client-Side File Types</a></li>
<li class="chapter" data-level="2.2" data-path="client-side-development.html"><a href="client-side-development.html#http-requests-and-servers"><i class="fa fa-check"></i><b>2.2</b> HTTP Requests and Servers</a><ul>
<li class="chapter" data-level="" data-path="client-side-development.html"><a href="client-side-development.html#development-servers"><i class="fa fa-check"></i>Development Servers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="html-fundamentals.html"><a href="html-fundamentals.html"><i class="fa fa-check"></i><b>3</b> HTML Fundamentals</a><ul>
<li class="chapter" data-level="3.1" data-path="html-fundamentals.html"><a href="html-fundamentals.html#html-elements"><i class="fa fa-check"></i><b>3.1</b> HTML Elements</a><ul>
<li class="chapter" data-level="" data-path="html-fundamentals.html"><a href="html-fundamentals.html#some-example-elements"><i class="fa fa-check"></i>Some Example Elements</a></li>
<li class="chapter" data-level="" data-path="html-fundamentals.html"><a href="html-fundamentals.html#comments"><i class="fa fa-check"></i>Comments</a></li>
<li class="chapter" data-level="" data-path="html-fundamentals.html"><a href="html-fundamentals.html#attributes"><i class="fa fa-check"></i>Attributes</a></li>
<li class="chapter" data-level="" data-path="html-fundamentals.html"><a href="html-fundamentals.html#empty-elements"><i class="fa fa-check"></i>Empty Elements</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="html-fundamentals.html"><a href="html-fundamentals.html#nesting-elements"><i class="fa fa-check"></i><b>3.2</b> Nesting Elements</a><ul>
<li class="chapter" data-level="" data-path="html-fundamentals.html"><a href="html-fundamentals.html#block-vs.inline-elements"><i class="fa fa-check"></i>Block vs.Â Inline Elements</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="html-fundamentals.html"><a href="html-fundamentals.html#web-page-structure"><i class="fa fa-check"></i><b>3.3</b> Web Page Structure</a><ul>
<li class="chapter" data-level="" data-path="html-fundamentals.html"><a href="html-fundamentals.html#doctype-declaration"><i class="fa fa-check"></i>Doctype Declaration</a></li>
<li><a href="html-fundamentals.html#the-head-section">The <code>&lt;head&gt;</code> Section</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="html-fundamentals.html"><a href="html-fundamentals.html#web-page-template"><i class="fa fa-check"></i><b>3.4</b> Web Page Template</a></li>
<li class="chapter" data-level="" data-path="html-fundamentals.html"><a href="html-fundamentals.html#resources-1"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="standards-and-accessibility.html"><a href="standards-and-accessibility.html"><i class="fa fa-check"></i><b>4</b> Standards and Accessibility</a><ul>
<li class="chapter" data-level="4.1" data-path="standards-and-accessibility.html"><a href="standards-and-accessibility.html#web-standards"><i class="fa fa-check"></i><b>4.1</b> Web Standards</a></li>
<li class="chapter" data-level="4.2" data-path="standards-and-accessibility.html"><a href="standards-and-accessibility.html#why-accessibility"><i class="fa fa-check"></i><b>4.2</b> Why Accessibility</a></li>
<li class="chapter" data-level="4.3" data-path="standards-and-accessibility.html"><a href="standards-and-accessibility.html#supporting-accessibility"><i class="fa fa-check"></i><b>4.3</b> Supporting Accessibility</a><ul>
<li class="chapter" data-level="" data-path="standards-and-accessibility.html"><a href="standards-and-accessibility.html#semantic-html"><i class="fa fa-check"></i>Semantic HTML</a></li>
<li class="chapter" data-level="" data-path="standards-and-accessibility.html"><a href="standards-and-accessibility.html#aria"><i class="fa fa-check"></i>ARIA</a></li>
<li class="chapter" data-level="" data-path="standards-and-accessibility.html"><a href="standards-and-accessibility.html#page-structure-navigable"><i class="fa fa-check"></i>Page Structure (Navigable)</a></li>
<li class="chapter" data-level="" data-path="standards-and-accessibility.html"><a href="standards-and-accessibility.html#visual-information-perceivable"><i class="fa fa-check"></i>Visual Information (Perceivable)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="standards-and-accessibility.html"><a href="standards-and-accessibility.html#resources-2"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="css.html"><a href="css.html"><i class="fa fa-check"></i><b>5</b> CSS Fundamentals</a><ul>
<li class="chapter" data-level="5.1" data-path="css.html"><a href="css.html#why-two-different-languages"><i class="fa fa-check"></i><b>5.1</b> Why Two Different Languages?</a></li>
<li class="chapter" data-level="5.2" data-path="css.html"><a href="css.html#css-rules"><i class="fa fa-check"></i><b>5.2</b> CSS Rules</a><ul>
<li class="chapter" data-level="" data-path="css.html"><a href="css.html#overall-syntax"><i class="fa fa-check"></i>Overall Syntax</a></li>
<li class="chapter" data-level="" data-path="css.html"><a href="css.html#css-properties"><i class="fa fa-check"></i>CSS Properties</a></li>
<li class="chapter" data-level="" data-path="css.html"><a href="css.html#css-selectors"><i class="fa fa-check"></i>CSS Selectors</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="css.html"><a href="css.html#the-cascade"><i class="fa fa-check"></i><b>5.3</b> The Cascade</a><ul>
<li class="chapter" data-level="" data-path="css.html"><a href="css.html#rule-specificity"><i class="fa fa-check"></i>Rule Specificity</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="css.html"><a href="css.html#resources-3"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="css-options.html"><a href="css-options.html"><i class="fa fa-check"></i><b>6</b> CSS Options</a><ul>
<li class="chapter" data-level="6.1" data-path="css-options.html"><a href="css-options.html#compound-selectors"><i class="fa fa-check"></i><b>6.1</b> Compound Selectors</a><ul>
<li class="chapter" data-level="" data-path="css-options.html"><a href="css-options.html#group-selector"><i class="fa fa-check"></i>Group Selector</a></li>
<li class="chapter" data-level="" data-path="css-options.html"><a href="css-options.html#combined-selectors"><i class="fa fa-check"></i>Combined Selectors</a></li>
<li class="chapter" data-level="" data-path="css-options.html"><a href="css-options.html#descendant-selector"><i class="fa fa-check"></i>Descendant Selector</a></li>
<li class="chapter" data-level="" data-path="css-options.html"><a href="css-options.html#pseudo-classes"><i class="fa fa-check"></i>Pseudo-classes</a></li>
<li class="chapter" data-level="" data-path="css-options.html"><a href="css-options.html#attribute-selectors"><i class="fa fa-check"></i>Attribute Selectors</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="css-options.html"><a href="css-options.html#property-values"><i class="fa fa-check"></i><b>6.2</b> Property Values</a><ul>
<li class="chapter" data-level="" data-path="css-options.html"><a href="css-options.html#css-units"><i class="fa fa-check"></i>Units &amp; Sizes</a></li>
<li class="chapter" data-level="" data-path="css-options.html"><a href="css-options.html#css-colors"><i class="fa fa-check"></i>Colors</a></li>
<li class="chapter" data-level="" data-path="css-options.html"><a href="css-options.html#fonts-and-icons"><i class="fa fa-check"></i>Fonts and Icons</a></li>
<li class="chapter" data-level="" data-path="css-options.html"><a href="css-options.html#backgrounds-and-images"><i class="fa fa-check"></i>Backgrounds and Images</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="css-options.html"><a href="css-options.html#resources-4"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="css-layouts.html"><a href="css-layouts.html"><i class="fa fa-check"></i><b>7</b> CSS Layouts</a><ul>
<li class="chapter" data-level="7.1" data-path="css-layouts.html"><a href="css-layouts.html#display"><i class="fa fa-check"></i><b>7.1</b> Display</a></li>
<li class="chapter" data-level="7.2" data-path="css-layouts.html"><a href="css-layouts.html#box-model"><i class="fa fa-check"></i><b>7.2</b> The Box Model</a><ul>
<li class="chapter" data-level="" data-path="css-layouts.html"><a href="css-layouts.html#padding"><i class="fa fa-check"></i>Padding</a></li>
<li class="chapter" data-level="" data-path="css-layouts.html"><a href="css-layouts.html#border"><i class="fa fa-check"></i>Border</a></li>
<li class="chapter" data-level="" data-path="css-layouts.html"><a href="css-layouts.html#margin"><i class="fa fa-check"></i>Margin</a></li>
<li class="chapter" data-level="" data-path="css-layouts.html"><a href="css-layouts.html#box-sizing"><i class="fa fa-check"></i>Box-Sizing</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="css-layouts.html"><a href="css-layouts.html#position"><i class="fa fa-check"></i><b>7.3</b> Position</a><ul>
<li class="chapter" data-level="" data-path="css-layouts.html"><a href="css-layouts.html#floating"><i class="fa fa-check"></i>Floating</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="css-layouts.html"><a href="css-layouts.html#flexbox"><i class="fa fa-check"></i><b>7.4</b> Flexbox</a></li>
<li class="chapter" data-level="" data-path="css-layouts.html"><a href="css-layouts.html#resources-5"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="responsive-css.html"><a href="responsive-css.html"><i class="fa fa-check"></i><b>8</b> Responsive CSS</a><ul>
<li class="chapter" data-level="8.1" data-path="responsive-css.html"><a href="responsive-css.html#mobile-first-design"><i class="fa fa-check"></i><b>8.1</b> Mobile-First Design</a><ul>
<li class="chapter" data-level="" data-path="responsive-css.html"><a href="responsive-css.html#mobile-first-design-principles"><i class="fa fa-check"></i>Mobile-First Design Principles</a></li>
<li class="chapter" data-level="" data-path="responsive-css.html"><a href="responsive-css.html#specifying-viewport"><i class="fa fa-check"></i>Specifying Viewport</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="responsive-css.html"><a href="responsive-css.html#media-queries"><i class="fa fa-check"></i><b>8.2</b> Media Queries</a><ul>
<li class="chapter" data-level="" data-path="responsive-css.html"><a href="responsive-css.html#example-responsive-flexbox"><i class="fa fa-check"></i>Example: Responsive Flexbox</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="responsive-css.html"><a href="responsive-css.html#resources-6"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="css-frameworks.html"><a href="css-frameworks.html"><i class="fa fa-check"></i><b>9</b> CSS Frameworks</a><ul>
<li class="chapter" data-level="9.1" data-path="css-frameworks.html"><a href="css-frameworks.html#using-a-framework"><i class="fa fa-check"></i><b>9.1</b> Using a Framework</a><ul>
<li class="chapter" data-level="" data-path="css-frameworks.html"><a href="css-frameworks.html#including-a-framework"><i class="fa fa-check"></i>Including a Framework</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="css-frameworks.html"><a href="css-frameworks.html#bootstrap"><i class="fa fa-check"></i><b>9.2</b> Bootstrap</a><ul>
<li class="chapter" data-level="" data-path="css-frameworks.html"><a href="css-frameworks.html#utility-classes"><i class="fa fa-check"></i>Utility Classes</a></li>
<li class="chapter" data-level="" data-path="css-frameworks.html"><a href="css-frameworks.html#responsive-design"><i class="fa fa-check"></i>Responsive Design</a></li>
<li class="chapter" data-level="" data-path="css-frameworks.html"><a href="css-frameworks.html#the-grid"><i class="fa fa-check"></i>The Grid</a></li>
<li class="chapter" data-level="" data-path="css-frameworks.html"><a href="css-frameworks.html#components"><i class="fa fa-check"></i>Components</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="css-frameworks.html"><a href="css-frameworks.html#resources-7"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="javascript.html"><a href="javascript.html"><i class="fa fa-check"></i><b>10</b> JavaScript Fundamentals</a><ul>
<li class="chapter" data-level="10.1" data-path="javascript.html"><a href="javascript.html#programming-with-javascript"><i class="fa fa-check"></i><b>10.1</b> Programming with JavaScript</a><ul>
<li class="chapter" data-level="" data-path="javascript.html"><a href="javascript.html#history-and-versions"><i class="fa fa-check"></i>History and Versions</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="javascript.html"><a href="javascript.html#running-javascript"><i class="fa fa-check"></i><b>10.2</b> Running JavaScript</a><ul>
<li class="chapter" data-level="" data-path="javascript.html"><a href="javascript.html#in-the-browser"><i class="fa fa-check"></i>In the Browser</a></li>
<li class="chapter" data-level="" data-path="javascript.html"><a href="javascript.html#on-the-command-line-with-node.js"><i class="fa fa-check"></i>On the Command-line with Node.js</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="javascript.html"><a href="javascript.html#writing-scripts"><i class="fa fa-check"></i><b>10.3</b> Writing Scripts</a><ul>
<li class="chapter" data-level="" data-path="javascript.html"><a href="javascript.html#strict-mode"><i class="fa fa-check"></i>Strict Mode</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="javascript.html"><a href="javascript.html#variables"><i class="fa fa-check"></i><b>10.4</b> Variables</a><ul>
<li class="chapter" data-level="" data-path="javascript.html"><a href="javascript.html#basic-data-types"><i class="fa fa-check"></i>Basic Data Types</a></li>
<li class="chapter" data-level="" data-path="javascript.html"><a href="javascript.html#arrays"><i class="fa fa-check"></i>Arrays</a></li>
<li class="chapter" data-level="" data-path="javascript.html"><a href="javascript.html#objects"><i class="fa fa-check"></i>Objects</a></li>
<li class="chapter" data-level="" data-path="javascript.html"><a href="javascript.html#type-coercion"><i class="fa fa-check"></i>Type Coercion</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="javascript.html"><a href="javascript.html#control-structures"><i class="fa fa-check"></i><b>10.5</b> Control Structures</a></li>
<li class="chapter" data-level="10.6" data-path="javascript.html"><a href="javascript.html#functions"><i class="fa fa-check"></i><b>10.6</b> Functions</a></li>
<li class="chapter" data-level="" data-path="javascript.html"><a href="javascript.html#resources-8"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="functional-programming.html"><a href="functional-programming.html"><i class="fa fa-check"></i><b>11</b> Functional Programming in JS</a><ul>
<li class="chapter" data-level="11.1" data-path="functional-programming.html"><a href="functional-programming.html#functions-are-variables"><i class="fa fa-check"></i><b>11.1</b> Functions ARE Variables</a><ul>
<li class="chapter" data-level="" data-path="functional-programming.html"><a href="functional-programming.html#anonymous-functions"><i class="fa fa-check"></i>Anonymous Functions</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="functional-programming.html"><a href="functional-programming.html#object-functions"><i class="fa fa-check"></i><b>11.2</b> Object Functions</a></li>
<li class="chapter" data-level="11.3" data-path="functional-programming.html"><a href="functional-programming.html#callback-functions"><i class="fa fa-check"></i><b>11.3</b> Callback Functions</a><ul>
<li class="chapter" data-level="" data-path="functional-programming.html"><a href="functional-programming.html#closures"><i class="fa fa-check"></i>Closures</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="functional-programming.html"><a href="functional-programming.html#functional-looping"><i class="fa fa-check"></i><b>11.4</b> Functional Looping</a><ul>
<li class="chapter" data-level="" data-path="functional-programming.html"><a href="functional-programming.html#map"><i class="fa fa-check"></i>Map</a></li>
<li class="chapter" data-level="" data-path="functional-programming.html"><a href="functional-programming.html#filter"><i class="fa fa-check"></i>Filter</a></li>
<li class="chapter" data-level="" data-path="functional-programming.html"><a href="functional-programming.html#reduce"><i class="fa fa-check"></i>Reduce</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="functional-programming.html"><a href="functional-programming.html#pure-functions"><i class="fa fa-check"></i><b>11.5</b> Pure Functions</a></li>
<li class="chapter" data-level="" data-path="functional-programming.html"><a href="functional-programming.html#resources-9"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="dom.html"><a href="dom.html"><i class="fa fa-check"></i><b>12</b> Document Object Model (DOM)</a><ul>
<li class="chapter" data-level="12.1" data-path="dom.html"><a href="dom.html#the-dom-api"><i class="fa fa-check"></i><b>12.1</b> The DOM API</a><ul>
<li class="chapter" data-level="" data-path="dom.html"><a href="dom.html#global-variables"><i class="fa fa-check"></i>Global Variables</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="dom.html"><a href="dom.html#dom-manipulation"><i class="fa fa-check"></i><b>12.2</b> DOM Manipulation</a><ul>
<li class="chapter" data-level="" data-path="dom.html"><a href="dom.html#referencing-html-elements"><i class="fa fa-check"></i>Referencing HTML Elements</a></li>
<li class="chapter" data-level="" data-path="dom.html"><a href="dom.html#modifying-html-elements"><i class="fa fa-check"></i>Modifying HTML Elements</a></li>
<li class="chapter" data-level="" data-path="dom.html"><a href="dom.html#modifying-the-dom-tree"><i class="fa fa-check"></i>Modifying the DOM Tree</a></li>
<li class="chapter" data-level="" data-path="dom.html"><a href="dom.html#accessibility"><i class="fa fa-check"></i>Accessibility</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="dom.html"><a href="dom.html#listening-for-events"><i class="fa fa-check"></i><b>12.3</b> Listening for Events</a><ul>
<li class="chapter" data-level="" data-path="dom.html"><a href="dom.html#types-of-events"><i class="fa fa-check"></i>Types of Events</a></li>
<li class="chapter" data-level="" data-path="dom.html"><a href="dom.html#event-driven-programming"><i class="fa fa-check"></i>Event-Driven Programming</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="dom.html"><a href="dom.html#resources-10"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="javascript-libraries.html"><a href="javascript-libraries.html"><i class="fa fa-check"></i><b>13</b> JavaScript Libraries</a><ul>
<li class="chapter" data-level="13.1" data-path="javascript-libraries.html"><a href="javascript-libraries.html#including-a-library"><i class="fa fa-check"></i><b>13.1</b> Including a Library</a></li>
<li class="chapter" data-level="13.2" data-path="javascript-libraries.html"><a href="javascript-libraries.html#example-jquery"><i class="fa fa-check"></i><b>13.2</b> Example: jQuery</a><ul>
<li class="chapter" data-level="" data-path="javascript-libraries.html"><a href="javascript-libraries.html#maniputing-the-dom"><i class="fa fa-check"></i>Maniputing the DOM</a></li>
<li class="chapter" data-level="" data-path="javascript-libraries.html"><a href="javascript-libraries.html#handling-events"><i class="fa fa-check"></i>Handling Events</a></li>
<li class="chapter" data-level="" data-path="javascript-libraries.html"><a href="javascript-libraries.html#and-more"><i class="fa fa-check"></i>And more!</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="javascript-libraries.html"><a href="javascript-libraries.html#resources-11"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="ajax.html"><a href="ajax.html"><i class="fa fa-check"></i><b>14</b> AJAX Requests</a><ul>
<li class="chapter" data-level="14.1" data-path="ajax.html"><a href="ajax.html#ajax"><i class="fa fa-check"></i><b>14.1</b> AJAX</a><ul>
<li class="chapter" data-level="" data-path="ajax.html"><a href="ajax.html#xml-and-json"><i class="fa fa-check"></i>XML and JSON</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="ajax.html"><a href="ajax.html#fetching-data"><i class="fa fa-check"></i><b>14.2</b> Fetching Data</a></li>
<li class="chapter" data-level="14.3" data-path="ajax.html"><a href="ajax.html#asynchronous-programming"><i class="fa fa-check"></i><b>14.3</b> Asynchronous Programming</a><ul>
<li class="chapter" data-level="" data-path="ajax.html"><a href="ajax.html#chaining-promises"><i class="fa fa-check"></i>Chaining Promises</a></li>
<li class="chapter" data-level="" data-path="ajax.html"><a href="ajax.html#handling-errors"><i class="fa fa-check"></i>Handling Errors</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ajax.html"><a href="ajax.html#resources-12"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="es6.html"><a href="es6.html"><i class="fa fa-check"></i><b>15</b> ES6 Features</a><ul>
<li class="chapter" data-level="15.1" data-path="es6.html"><a href="es6.html#es6-classes"><i class="fa fa-check"></i><b>15.1</b> Classes</a><ul>
<li class="chapter" data-level="" data-path="es6.html"><a href="es6.html#why-classes"><i class="fa fa-check"></i>Why Classes?</a></li>
<li class="chapter" data-level="" data-path="es6.html"><a href="es6.html#review-classes-in-java"><i class="fa fa-check"></i>Review: Classes in Java</a></li>
<li class="chapter" data-level="" data-path="es6.html"><a href="es6.html#es6-class-syntax"><i class="fa fa-check"></i>ES6 Class Syntax</a></li>
<li class="chapter" data-level="" data-path="es6.html"><a href="es6.html#inheritance"><i class="fa fa-check"></i>Inheritance</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="es6.html"><a href="es6.html#arrow-functions"><i class="fa fa-check"></i><b>15.2</b> Arrow Functions</a><ul>
<li><a href="es6.html#working-with-this">Working with <code>this</code></a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="es6.html"><a href="es6.html#modules"><i class="fa fa-check"></i><b>15.3</b> Modules</a></li>
<li class="chapter" data-level="15.4" data-path="es6.html"><a href="es6.html#other-features"><i class="fa fa-check"></i><b>15.4</b> Other Features</a><ul>
<li class="chapter" data-level="" data-path="es6.html"><a href="es6.html#template-strings"><i class="fa fa-check"></i>Template Strings</a></li>
<li class="chapter" data-level="" data-path="es6.html"><a href="es6.html#destructuring-and-spreading"><i class="fa fa-check"></i>Destructuring and Spreading</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="es6.html"><a href="es6.html#resources-13"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="react.html"><a href="react.html"><i class="fa fa-check"></i><b>16</b> Introduction to React</a><ul>
<li class="chapter" data-level="16.1" data-path="react.html"><a href="react.html#getting-set-up-create-react-app"><i class="fa fa-check"></i><b>16.1</b> Getting Set Up: Create React App</a><ul>
<li class="chapter" data-level="16.1.1" data-path="react.html"><a href="react.html#running-the-development-server"><i class="fa fa-check"></i><b>16.1.1</b> Running the Development Server</a></li>
<li class="chapter" data-level="16.1.2" data-path="react.html"><a href="react.html#project-structure"><i class="fa fa-check"></i><b>16.1.2</b> Project Structure</a></li>
<li class="chapter" data-level="16.1.3" data-path="react.html"><a href="react.html#alternatives-to-create-react-app"><i class="fa fa-check"></i><b>16.1.3</b> Alternatives to Create React App</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="react.html"><a href="react.html#jsx"><i class="fa fa-check"></i><b>16.2</b> JSX</a><ul>
<li class="chapter" data-level="16.2.1" data-path="react.html"><a href="react.html#inline-expressions"><i class="fa fa-check"></i><b>16.2.1</b> Inline Expressions</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="react.html"><a href="react.html#react-components"><i class="fa fa-check"></i><b>16.3</b> React Components</a><ul>
<li class="chapter" data-level="16.3.1" data-path="react.html"><a href="react.html#component-organization"><i class="fa fa-check"></i><b>16.3.1</b> Component Organization</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="react.html"><a href="react.html#props"><i class="fa fa-check"></i><b>16.4</b> Properties (<code>Props</code>)</a><ul>
<li class="chapter" data-level="16.4.1" data-path="react.html"><a href="react.html#props-and-composition"><i class="fa fa-check"></i><b>16.4.1</b> Props and Composition</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="react.html"><a href="react.html#resources-14"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="react-tools.html"><a href="react-tools.html"><i class="fa fa-check"></i><b>17</b> React Tools</a><ul>
<li class="chapter" data-level="17.1" data-path="react-tools.html"><a href="react-tools.html#importing-and-exporting-in-es6"><i class="fa fa-check"></i><b>17.1</b> Importing and Exporting in ES6</a><ul>
<li class="chapter" data-level="17.1.1" data-path="react-tools.html"><a href="react-tools.html#named-v.s.-default-exports"><i class="fa fa-check"></i><b>17.1.1</b> Named v.s. default exports</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="react-tools.html"><a href="react-tools.html#installing-with-npm"><i class="fa fa-check"></i><b>17.2</b> Installing with NPM</a></li>
<li class="chapter" data-level="17.3" data-path="react-tools.html"><a href="react-tools.html#create-react-app"><i class="fa fa-check"></i><b>17.3</b> Create-React-App</a><ul>
<li class="chapter" data-level="17.3.1" data-path="react-tools.html"><a href="react-tools.html#building"><i class="fa fa-check"></i><b>17.3.1</b> Building</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="react-tools.html"><a href="react-tools.html#resources-15"><i class="fa fa-check"></i><b>17.4</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="interactive-react.html"><a href="interactive-react.html"><i class="fa fa-check"></i><b>18</b> Interactive React</a><ul>
<li class="chapter" data-level="18.1" data-path="react.html"><a href="react.html#state"><i class="fa fa-check"></i><b>18.1</b> State</a></li>
<li class="chapter" data-level="18.2" data-path="interactive-react.html"><a href="interactive-react.html#component-lifecycle"><i class="fa fa-check"></i><b>18.2</b> Component Lifecycle</a></li>
<li class="chapter" data-level="18.3" data-path="interactive-react.html"><a href="interactive-react.html#events"><i class="fa fa-check"></i><b>18.3</b> Events</a></li>
<li class="chapter" data-level="18.4" data-path="interactive-react.html"><a href="interactive-react.html#lifting-up-state"><i class="fa fa-check"></i><b>18.4</b> Lifting Up State</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="client-side-routing.html"><a href="client-side-routing.html"><i class="fa fa-check"></i><b>19</b> Client-Side Routing</a><ul>
<li class="chapter" data-level="19.1" data-path="client-side-routing.html"><a href="client-side-routing.html#single-page-applications"><i class="fa fa-check"></i><b>19.1</b> Single-Page Applications</a></li>
<li class="chapter" data-level="19.2" data-path="client-side-routing.html"><a href="client-side-routing.html#react-router"><i class="fa fa-check"></i><b>19.2</b> React-Router</a><ul>
<li class="chapter" data-level="" data-path="client-side-routing.html"><a href="client-side-routing.html#routing"><i class="fa fa-check"></i>Routing</a></li>
<li class="chapter" data-level="" data-path="client-side-routing.html"><a href="client-side-routing.html#linking"><i class="fa fa-check"></i>Linking</a></li>
<li class="chapter" data-level="" data-path="client-side-routing.html"><a href="client-side-routing.html#react-router-and-github-pages"><i class="fa fa-check"></i>React Router and Github Pages</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="client-side-routing.html"><a href="client-side-routing.html#resources-16"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="firebase.html"><a href="firebase.html"><i class="fa fa-check"></i><b>20</b> Firebase</a><ul>
<li class="chapter" data-level="20.1" data-path="firebase.html"><a href="firebase.html#setting-up-firebase"><i class="fa fa-check"></i><b>20.1</b> Setting up Firebase</a><ul>
<li class="chapter" data-level="" data-path="firebase.html"><a href="firebase.html#creating-a-project"><i class="fa fa-check"></i>Creating a Project</a></li>
<li class="chapter" data-level="" data-path="firebase.html"><a href="firebase.html#including-firebase-in-react"><i class="fa fa-check"></i>Including Firebase in React</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="firebase.html"><a href="firebase.html#user-authentication"><i class="fa fa-check"></i><b>20.2</b> User Authentication</a><ul>
<li class="chapter" data-level="" data-path="firebase.html"><a href="firebase.html#creating-users"><i class="fa fa-check"></i>Creating Users</a></li>
<li class="chapter" data-level="" data-path="firebase.html"><a href="firebase.html#authentication-events"><i class="fa fa-check"></i>Authentication Events</a></li>
</ul></li>
<li class="chapter" data-level="20.3" data-path="firebase.html"><a href="firebase.html#realtime-database"><i class="fa fa-check"></i><b>20.3</b> Realtime Database</a><ul>
<li class="chapter" data-level="" data-path="firebase.html"><a href="firebase.html#security-rules"><i class="fa fa-check"></i>Security Rules</a></li>
<li class="chapter" data-level="" data-path="firebase.html"><a href="firebase.html#reading-and-writing-data"><i class="fa fa-check"></i>Reading and Writing Data</a></li>
<li class="chapter" data-level="" data-path="firebase.html"><a href="firebase.html#listening-for-data-changes"><i class="fa fa-check"></i>Listening for Data Changes</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="firebase.html"><a href="firebase.html#resources-17"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="interactive-react-revised.html"><a href="interactive-react-revised.html"><i class="fa fa-check"></i><b>21</b> Interactive React (Revised)</a><ul>
<li class="chapter" data-level="21.1" data-path="interactive-react-revised.html"><a href="interactive-react-revised.html#handling-events-in-react"><i class="fa fa-check"></i><b>21.1</b> Handling Events in React</a><ul>
<li class="chapter" data-level="21.1.1" data-path="interactive-react-revised.html"><a href="interactive-react-revised.html#accessing-this-component-from-events"><i class="fa fa-check"></i><b>21.1.1</b> Accessing <code>this</code> Component from Events</a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="interactive-react-revised.html"><a href="interactive-react-revised.html#state-1"><i class="fa fa-check"></i><b>21.2</b> State</a><ul>
<li class="chapter" data-level="21.2.1" data-path="interactive-react-revised.html"><a href="interactive-react-revised.html#state-vs.props"><i class="fa fa-check"></i><b>21.2.1</b> State vs.Â Props</a></li>
<li class="chapter" data-level="21.2.2" data-path="interactive-react-revised.html"><a href="interactive-react-revised.html#changing-the-state"><i class="fa fa-check"></i><b>21.2.2</b> Changing the State</a></li>
<li class="chapter" data-level="" data-path="interactive-react-revised.html"><a href="interactive-react-revised.html#lifting-up-state-1"><i class="fa fa-check"></i>Lifting Up State</a></li>
<li class="chapter" data-level="21.2.3" data-path="interactive-react-revised.html"><a href="interactive-react-revised.html#working-with-forms"><i class="fa fa-check"></i><b>21.2.3</b> Working with Forms</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="interactive-react-revised.html"><a href="interactive-react-revised.html#the-component-lifecycle"><i class="fa fa-check"></i><b>21.3</b> The Component Lifecycle</a><ul>
<li class="chapter" data-level="21.3.1" data-path="interactive-react-revised.html"><a href="interactive-react-revised.html#lifecycle-example-fetching-data-via-ajax"><i class="fa fa-check"></i><b>21.3.1</b> Lifecycle Example: Fetching Data via AJAX</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="interactive-react-revised.html"><a href="interactive-react-revised.html#resources-18"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="appendix"><span><b>Special Topics</b></span></li>
<li class="chapter" data-level="A" data-path="jest.html"><a href="jest.html"><i class="fa fa-check"></i><b>A</b> Testing with Jest</a><ul>
<li class="chapter" data-level="A.1" data-path="jest.html"><a href="jest.html#testing"><i class="fa fa-check"></i><b>A.1</b> Testing</a></li>
<li class="chapter" data-level="A.2" data-path="jest.html"><a href="jest.html#testing-with-jest"><i class="fa fa-check"></i><b>A.2</b> Testing with Jest</a></li>
<li class="chapter" data-level="A.3" data-path="jest.html"><a href="jest.html#writing-a-test"><i class="fa fa-check"></i><b>A.3</b> Writing a Test</a><ul>
<li class="chapter" data-level="" data-path="jest.html"><a href="jest.html#assertions-and-matchers"><i class="fa fa-check"></i>Assertions and Matchers</a></li>
<li class="chapter" data-level="" data-path="jest.html"><a href="jest.html#organizing-tests"><i class="fa fa-check"></i>Organizing Tests</a></li>
<li class="chapter" data-level="" data-path="jest.html"><a href="jest.html#running-the-tests"><i class="fa fa-check"></i>Running the Tests</a></li>
<li class="chapter" data-level="" data-path="jest.html"><a href="jest.html#practice"><i class="fa fa-check"></i>Practice</a></li>
</ul></li>
<li class="chapter" data-level="A.4" data-path="jest.html"><a href="jest.html#testing-web-apps-with-jest"><i class="fa fa-check"></i><b>A.4</b> Testing Web Apps with Jest</a><ul>
<li class="chapter" data-level="" data-path="jest.html"><a href="jest.html#practice-1"><i class="fa fa-check"></i>Practice</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="webpack.html"><a href="webpack.html"><i class="fa fa-check"></i><b>B</b> Lab: Webpack</a><ul>
<li class="chapter" data-level="B.1" data-path="webpack.html"><a href="webpack.html#what-is-webpack"><i class="fa fa-check"></i><b>B.1</b> What is Webpack?</a></li>
<li class="chapter" data-level="B.2" data-path="webpack.html"><a href="webpack.html#getting-started"><i class="fa fa-check"></i><b>B.2</b> Getting Started</a></li>
<li class="chapter" data-level="B.3" data-path="webpack.html"><a href="webpack.html#webpack.config.js"><i class="fa fa-check"></i><b>B.3</b> <code>webpack.config.js</code></a><ul>
<li><a href="webpack.html#entry-and-output"><code>entry</code> and <code>output</code></a></li>
</ul></li>
<li class="chapter" data-level="B.4" data-path="webpack.html"><a href="webpack.html#loaders"><i class="fa fa-check"></i><b>B.4</b> Loaders</a><ul>
<li class="chapter" data-level="" data-path="webpack.html"><a href="webpack.html#babel-loader"><i class="fa fa-check"></i>Babel Loader</a></li>
<li class="chapter" data-level="" data-path="webpack.html"><a href="webpack.html#clean-up-bath"><i class="fa fa-check"></i>Clean up :bath:</a></li>
<li class="chapter" data-level="" data-path="webpack.html"><a href="webpack.html#further-loader-practice"><i class="fa fa-check"></i>Further Loader Practice</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="C" data-path="css-in-js.html"><a href="css-in-js.html"><i class="fa fa-check"></i><b>C</b> CSS in JS</a><ul>
<li class="chapter" data-level="C.1" data-path="css-in-js.html"><a href="css-in-js.html#why-css-in-js"><i class="fa fa-check"></i><b>C.1</b> Why CSS in JS?</a></li>
<li class="chapter" data-level="C.2" data-path="css-in-js.html"><a href="css-in-js.html#react-inline-styles"><i class="fa fa-check"></i><b>C.2</b> React Inline Styles</a></li>
<li class="chapter" data-level="C.3" data-path="css-in-js.html"><a href="css-in-js.html#aphrodite"><i class="fa fa-check"></i><b>C.3</b> Aphrodite</a></li>
<li class="chapter" data-level="C.4" data-path="css-in-js.html"><a href="css-in-js.html#css-modules"><i class="fa fa-check"></i><b>C.4</b> CSS Modules</a><ul>
<li class="chapter" data-level="" data-path="css-in-js.html"><a href="css-in-js.html#ejecting-from-create-react-app"><i class="fa fa-check"></i>Ejecting from Create React App</a></li>
<li class="chapter" data-level="" data-path="css-in-js.html"><a href="css-in-js.html#composing-classes"><i class="fa fa-check"></i>Composing Classes</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="css-in-js.html"><a href="css-in-js.html#resources-19"><i class="fa fa-check"></i>Resources</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="redux.html"><a href="redux.html"><i class="fa fa-check"></i><b>D</b> Redux</a></li>
<li class="chapter" data-level="E" data-path="react-native.html"><a href="react-native.html"><i class="fa fa-check"></i><b>E</b> React Native</a><ul>
<li class="chapter" data-level="E.1" data-path="react-native.html"><a href="react-native.html#getting-setup"><i class="fa fa-check"></i><b>E.1</b> Getting Setup</a><ul>
<li class="chapter" data-level="" data-path="react-native.html"><a href="react-native.html#running-react-native-apps"><i class="fa fa-check"></i>Running React Native Apps</a></li>
</ul></li>
<li class="chapter" data-level="E.2" data-path="react-native.html"><a href="react-native.html#react-native-apps"><i class="fa fa-check"></i><b>E.2</b> React Native Apps</a><ul>
<li class="chapter" data-level="" data-path="react-native.html"><a href="react-native.html#styling-react-native"><i class="fa fa-check"></i>Styling React Native</a></li>
<li class="chapter" data-level="" data-path="react-native.html"><a href="react-native.html#interaction"><i class="fa fa-check"></i>Interaction</a></li>
<li class="chapter" data-level="" data-path="react-native.html"><a href="react-native.html#lists-and-data"><i class="fa fa-check"></i>Lists and Data</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Client-Side Web Development</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ajax" class="section level1">
<h1><span class="header-section-number">Chapter 14</span> AJAX Requests</h1>
<p>JavaScript allows you to dynamically define the content of a web page, generating the DOM at runtime rather than in <code>.html</code> source files. One of the primary reasons we would want to dynamically produce a DOM is if the web pageâs content is based on some <strong>data</strong> that may change over time: for example, the kind of data that is available through a <a href="https://info201.github.io/apis.html#what-is-a-web-api"><strong>Web API</strong></a>. By using JavaScript to render the DOM, you can quickly produce large amounts of HTML needed to display large data sets, sure that you have up-to-date data each time the page loads, and even <em>automatically refresh the page content</em> without requiring the user to reload!</p>
<p>This chapter describes how to use JavaScript to dynamically send HTTP Requests to download data (without reloading the page!), as well as how to perform the <strong>asynchronous programming</strong> needed when working with web requests and other time-consuming operations.</p>
<p class="alert alert-info">
Note that this lecture assumes that you have a basic familiarity with RESTful Web APIS, including how to read and access their endpoints. For a review of some of the terminology used in APIS and RESTful requests, see the <a href="https://info201.github.io/apis.html#restful-requests">INFO 201 course reader</a>.
</p>
<div id="ajax" class="section level2">
<h2><span class="header-section-number">14.1</span> AJAX</h2>
<p>As discussed in <a href="client-side-development.html#http-requests-and-servers">Chapter 2</a>, you download data from the Internet by sending an <strong>HTTP Request</strong> and then processing the <strong>response</strong>. In everyday usage, HTTP Requests are normally sent by the <em>browser</em> when the user enters a URL or clicks on a link. By default, if you wanted to download new data, youâd need to have the browser send a new request, loading a new page (or reloading the current page) in order to show that result.</p>
<p>To make modern dynamic web pages that display new data without needing to refresh the browser, we use a technique to send HTTP Requests <em>from JavaScript code</em> rather than from the browser. This allows us to âby-passâ the browser and get new data (and change the webpage) without reloading it! This technique is referred to as <strong>AJAX</strong> (<strong>A</strong>synchronous <strong>J</strong>avaScript <strong>A</strong>nd <strong>X</strong>ML)âwe write code that sends an ârequest with AJAXâ or an âAJAX requestâ.</p>
<p class="alert alert-info">
<em>Fun fact</em>: The technology used to send AJAX requests was originally developed by Microsoft in the late 90s to support their fledgling web version of the Outlook email/calendar app. The JavaScript functions used to send these requests were included in Internet Explorer as a <em>non-standard</em> featureâan example of a browser adding new functionality that it thinks will be useful but that doesnât work on other platforms. However, AJAX quickly gained popularity (particularly when Google showed off what you could do with it via Gmail and Google Maps), and has since become a standard that is now supported by all browsers. This is how standards come into existence!
</p>
<div id="xml-and-json" class="section level3 unnumbered">
<h3>XML and JSON</h3>
<p>AJAX is called âAJA<strong>X</strong>â because it was originally designed to request data in XML format. <strong>XML</strong> (E<strong>X</strong>tensible <strong>M</strong>arkup <strong>L</strong>anguage) is a markup language (like HTML) that is used to encode meaning in content in a format that is both human <em>and</em> computer readable. The syntax for XML is <em>exactly</em> the same as HTML: in fact, HTML can be seen as a âsubsetâ of the language. You can think of XML as âHTML, but you get to make up your own element names!â</p>
<pre class="language-xml"><code><span class="token comment">&lt;!-- Some XML encoding information about a person --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>person</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>firstName</span><span class="token punctuation">></span></span>Alice<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>firstName</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lastName</span><span class="token punctuation">></span></span>Smith<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lastName</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>favorites</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>music</span><span class="token punctuation">></span></span>jazz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>music</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>food</span><span class="token punctuation">></span></span>pizza<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>food</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>numbers</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">></span></span>12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">></span></span>42<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>numbers</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>favorites</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>person</span><span class="token punctuation">></span></span></code></pre>
<ul>
<li>The XML language does not define any particular tags the way HTML does; instead it is up to individual applications to determine what tags it will recognize and interpret (and what tags it would see as gibberish)âwhat is referred to as a <a href="https://en.wikipedia.org/wiki/XML_schema">XML Schema</a>.</li>
</ul>
<p>At the time AJAX was first developed, XML was the most common way of encoding generic data for transmission. And because XML is a tree of elements just like the DOM, similar methods could be used to navigate and extract information from the tree. However, XML is a very <em>verbose</em> language: it requires a lot of characters to encode information (meaning that the amount of data being transferred is larger), and traversing an element tree requires a lot of code. As such, JavaScript developers (led by <a href="https://en.wikipedia.org/wiki/Douglas_Crockford">Douglas Crockford</a>) developed an alternative language called <strong>JSON</strong> (<strong>J</strong>ava<strong>S</strong>cript <strong>O</strong>bject <strong>N</strong>otation) that is more compact than XML and can be <em>directly</em> parsed into JavaScript objects and arrays:</p>
<pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">"firstName"</span><span class="token operator">:</span> <span class="token string">"Alice"</span><span class="token punctuation">,</span>
  <span class="token property">"lastName"</span><span class="token operator">:</span> <span class="token string">"Smith"</span><span class="token punctuation">,</span>
  <span class="token property">"favorites"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"music"</span><span class="token operator">:</span> <span class="token string">"jazz"</span><span class="token punctuation">,</span>
    <span class="token property">"food"</span><span class="token operator">:</span> <span class="token string">"pizza"</span><span class="token punctuation">,</span>
    <span class="token property">"numbers"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>JSON format uses a syntax that is almost identical to that for defining Object literals in JavaScript, with a few key differences:</p>
<div class="list-condensed">
<ul>
<li>JSON always defines an Object <code>{}</code> at the âtop levelâ.</li>
<li>JSON object <strong>keys</strong> (which must be strings) <em>must</em> be written in double-quotes.</li>
<li>JSON <strong>values</strong> can only be strings, numbers, booleans (<code>true</code> or <code>false</code>), arrays (<code>[]</code>), or other objects. You cannot include a function in JSON.</li>
<li>JSON objects and arrays canât have trailing commas or other extraneous symbolsâno comments!</li>
</ul>
</div>
<p>The JavaScript language provides a global object <code>JSON</code> (like the global <code>Math</code> object) that can be used to convert from encoded <em>strings</em> of JSON content (e.g., the above code block as a single string variable <code>'{&quot;firstName&quot;:&quot;Alice&quot;}'</code>) to JavaScript objects, and vice versa:</p>
<pre class="language-js"><code><span class="token comment">//convert from Object to encoded String</span>
<span class="token keyword">let</span> personObj <span class="token operator">=</span> <span class="token punctuation">{</span>firstName<span class="token punctuation">:</span><span class="token string">"Alice"</span><span class="token punctuation">,</span> lastName<span class="token punctuation">:</span><span class="token string">"Smith"</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span><span class="token number">12</span><span class="token punctuation">}</span> <span class="token comment">//JavaScript object</span>
<span class="token keyword">let</span> personString <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>personObj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//turn object into JSON string</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>personString<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//=> '{"firstName":"Alice","lastName":"Smith","id":12}'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> personString<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//=> 'string'</span>

<span class="token comment">//convert from encoded String to Object</span>
<span class="token keyword">let</span> favoritesString <span class="token operator">=</span> <span class="token string">'{"music":"jazz", "numbers":[12,42]}'</span><span class="token punctuation">;</span> <span class="token comment">//a string, not an object!</span>
<span class="token keyword">let</span> favoritesObj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>favoritesString<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//turn JSON string into object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>favoritesObj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//=> { music: 'jazz', numbers: [ 12, 42 ] }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> favoritesObj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//=> 'object'</span></code></pre>
<ul>
<li>Note that if your JSON string is not properly formatted (e.g., youâre missing a quote), the <code>JSON.parse()</code> function will throw a <code>SyntaxError</code>. The exact error in the JSON string can be hard to find; <a href="https://jsonformatter.curiousconcept.com/">online tools</a> can help show the problem.</li>
</ul>
<p>JSON has replaced XML as the encoding of choice for working with AJAX requestsâhowever, the technique is still referred as âAJAXâ (âAJA<em>J</em>â isnât as easy to say!)</p>
</div>
</div>
<div id="fetching-data" class="section level2">
<h2><span class="header-section-number">14.2</span> Fetching Data</h2>
<p>AJAX support is built into browsers through the included <code>XMLHttpRequest</code> global variable (the âxml http thingâ). This object provides functions that allow you to send an HTTP request to the server, but the objectâs API is <strong>really complex to use</strong>:</p>
<p><details> <summary>An example <code>XMLHTTPRequest</code></summary></p>
<pre class="language-js"><code><span class="token comment">//create a new XMLHttpRequest object</span>
<span class="token keyword">let</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//configure it to do an HTTP GET request for some URL</span>
request<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'https://domain.com/data'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//add a listener for the "load" event (when the data has been downloaded)</span>
request<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>status <span class="token operator">>=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> request<span class="token punctuation">.</span>status <span class="token operator">&lt;</span> <span class="token number">400</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//check response status</span>
        <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//do something with the data</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//listen for "error" events if there was a network error</span>
request<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//handle error...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//finally, send the request to the server!</span>
request<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p></details></p>
<p>Instead of needing to understand all that code, developers tended to use functions from external libraries such as jQueryâs <a href="http://api.jquery.com/jQuery.getJSON/"><code>$.getJSON()</code></a> or <a href="http://api.jquery.com/jQuery.ajax/"><code>$.ajax()</code></a>:</p>
<pre class="language-js"><code>$<span class="token punctuation">.</span><span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token string">'https://domain.com/data'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//`data` is the already-parsed JSON data</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//do something with the data</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>But this requires including the jQuery library in your page, and <a href="http://youmightnotneedjquery.com/">since the need for jQuery is rapidly going away</a>, other options are now <em>built in</em> to modern browsers. In particular, we will utilize the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API"><strong><code>fetch()</code></strong></a> API to easily send AJAX requests for data!</p>
<div class="alert alert-warning">
<code>fetch()</code> is an recent standardâso recent that it is not supported by <a href="http://caniuse.com/#feat=fetch">IE (any) or Opera Mini</a>. However, we can still use <code>fetch()</code> with these browsers by including a <a href="https://en.wikipedia.org/wiki/Polyfill"><strong>polyfill</strong></a>âan external library that replicates an existing API in platforms that donât support it! The <a href="https://github.com/github/fetch"><code>fetch()</code> polyfill</a> will provide a <code>fetch()</code> function to browsers that donât provide it (leaving other browsers unchanged) that uses the existing <code>XMLHttpRequest</code> without you needing to interact with that object.
</p>
<p>Itâs easiest to just load the polyfill from a <a href="https://cdnjs.com/libraries/fetch">CDN</a>:</p>
<pre class="language-html"><code><span class="token comment">&lt;!-- put this BEFORE your own script! --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
</div>
<p>The <code>fetch()</code> function makes it easy to send a request: simply call it and pass in the URL of the data you wish to download:</p>
<pre class="language-js"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://domain.com/data'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<!-- //same origin policy & live-server?? Necessary?? -->
<p class="alert alert-warning">
In some browsers, you will not be able to send an AJAX request when the web page is loading via the <code>file://</code> protocol (e.g., by double-clicking on the <code>.html</code> file). This is a security feature to keep you from accidentally running an HTML file that contains malicious JavaScript that will download a virus onto your computer. Instead, you should run a local web server such as <code>live-server</code> for testing AJAX requests.
</p>
</div>
<div id="asynchronous-programming" class="section level2">
<h2><span class="header-section-number">14.3</span> Asynchronous Programming</h2>
<p>However, the <code>fetch()</code> function does <strong>NOT</strong> directly return the data you want to download! Downloading data off the internet can take a long time: the network connection may be slow and the amount of data to download may be quite large (metadata for the latest 100 tweets from Twitter involves almost 500k of JSON content). Because fetching data may take time, AJAX requests are made <strong>asynchronously</strong> (thatâs the âAâ in AJAX)âthe download will occur <em>at the same time</em> that the rest of the code is being executed. Thus the download and the remaining script will <em>not</em> be synchronized; they will be âasynchronousâ.</p>
<pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'About to send request'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//statement 1</span>

<span class="token comment">//send request for data to the url</span>
<span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//statement 2</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Sent request'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//statement 3</span>

<span class="token comment">//The data is actually received sometime later,</span>
<span class="token comment">//when the JS interpreter is down here!</span></code></pre>
<ul>
<li><p>In the above example, the JS interpreter will execute statement 1, then statement 2 (the <code>fetch()</code> call). It will then precede <em>immediately</em> to statement 3 (the second <code>console.log</code>), without waiting for the request to finish! The download will continue to occur in the background, and will finish at some point later in the programâthough we donât know exactly when.</p></li>
<li><p>It is best to think of <code>fetch()</code> as a function that will just â<em>start</em> to download dataâ, not one that actually downloads data!</p></li>
</ul>
<p>Because <code>fetch()</code> is an <strong>asynchronous function</strong> (itâs code is run asynchronously), it returns what is called a <a href="https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Promise.jsm/Promise"><strong>Promise</strong></a>. A Promise is object that holds a value which may not be available yetâyou can think of a Promise as like a placeholder where the result of the asynchronous function call will eventually be stored (it is a âpromiseâ to eventually have some data, though that promise may be kept or broken!).</p>
<ul>
<li>Promises are the modern way of handling asynchronous functions, but as part of the ES6 standard they are <a href="http://caniuse.com/#feat=promises">not yet available to all browsers</a> (specifically: Internet Explorer). So youâll need to include <a href="https://github.com/stefanpenner/es6-promise"><em>another polyfill</em></a> to support IE. This is also available from a <a href="https://cdnjs.com/libraries/es6-promise">CDN</a>.</li>
</ul>
<p>Promises have three possible states: <em>pending</em> (the data is downloading), <em>fulfilled</em> (the data has finished downloading), or <em>rejected</em> (the data failed to download and the promise was âbrokenâ). We are able to specify <em>callback functions</em> (similar to event listeners) that occur when a pending Promise is either successfully fulfilled or has been rejected. The âon successâ callback function is specified by calling the <strong><code>.then()</code></strong> function on the Promise object, and passing the âon success callbackâ as a parameter:</p>
<pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">onSuccessCallback</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//what to do when we get the response</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//When fulfilled, execute the callback function (which will be passed the response)</span>
<span class="token keyword">let</span> promise <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>onSuccessCallback<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//It is much more common to use anonymous variables/callbacks:</span>
<span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>The âon successâ callback will be passed a single parameter: the <strong>data value</strong> that the Promise was made for (e.g., the data that will eventually be downloaded from <code>fetch()</code>). So when the callback is executed, you will have access to the data! For example, when the <code>fetch()</code> Promise is fulfilled, it will pass an object representing the <em>response</em> to the HTTP Request:</p>
<pre class="language-js"><code><span class="token keyword">let</span> promise <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> response<span class="token punctuation">.</span>url <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//a string of where the request was sent</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> response<span class="token punctuation">.</span>status <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//the HTTP status code (e.g., 200, 404)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>This response object does have a <code>body</code> property that represents the âbodyâ (data content) of the HTTP response. However, that body stored as a âstreamâ of 0s and 1s, not as a JavaScript object (or even a string you can <code>JSON.parse()</code>)! In order to get the body into a format you can use, you will need to âencodeâ it into a JavaScript object by calling the <strong><code>.json()</code></strong> method on it.</p>
<ul>
<li>There is also an equivalent <code>.text()</code> method to encode a response body into plain text.</li>
</ul>
<div id="chaining-promises" class="section level3 unnumbered">
<h3>Chaining Promises</h3>
<p><strong>But thereâs a catch</strong>: the âencodingâ process performed by the <code>.json()</code> might take some time (particularly for a large amount of data). So instead of blocking (pausing) the rest of your program while that encoding occurs, the <code>.json()</code> method returns <em>another Promise</em> as a placeholder for when the encoded body is available! So you will then need to specify a <code>.then()</code> callback for <em>that</em> Promise as well.</p>
<p>However, a Promiseâs <code>.then()</code> function has a neat property that makes this easy to do. Calling the <code>.then()</code> function on a Promise returns a new Promise as a placeholder for any data produced by the <code>.then()</code> function. This promised data will be whatever value is <em>returned</em> by the âon successâ callback function. This allows you to in effect âchainâ <code>.then()</code> calls together, each of which can perform some kind of transformation on the data:</p>
<pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">makeQuestion</span><span class="token punctuation">(</span>dataString<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//a function to make a string a question</span>
    <span class="token keyword">return</span> dataString <span class="token operator">+</span> <span class="token string">'???'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//image a hypothetical asynchronous function `getAsyncString`</span>
<span class="token comment">//it returns a Promise (placeholder) for a string load from a given source</span>
<span class="token keyword">let</span> originalPromise <span class="token operator">=</span> <span class="token function">getAsyncString</span><span class="token punctuation">(</span>myDataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//when the original promise is fulfilled, call `makeQuestion` on it</span>
<span class="token comment">//`questionPromise` will be a placeholder for that transformed data</span>
<span class="token keyword">let</span> questionPromise <span class="token operator">=</span> originalPromise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>makeUpperCase<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//when the `questionPromise` is fulfilled, call an anonymous callback on it</span>
<span class="token comment">//the callback will be passed the transformed ("question") data</span>
questionPromise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//data will be a question!</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>More commonly, we use <em>anonymous variables</em> for subsequent promises, allowing you to chain them together in a way that almost reads like English!</p>
<pre class="language-js"><code><span class="token function">getAsyncString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>makeQuestion<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>But wait thereâs more! <code>.then()</code> also has a special feature where if the âon successâ callback function returns a <em>Promise</em> (rather than another kind of value), then the âouterâ promise will take on the state of that new returned Promise. This means that you can just <em>return</em> a Promise from inside a <code>.then()</code> callback, and that Promise will be the subject of the subsequent <code>.then()</code> call:</p>
<pre class="language-js"><code><span class="token keyword">let</span> outerPromise <span class="token operator">=</span> <span class="token function">getAsyncString</span><span class="token punctuation">(</span>myFirstSource<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>firstData<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//do something with `firstData`</span>

    <span class="token keyword">let</span> newPromise <span class="token operator">=</span> <span class="token function">getAsyncString</span><span class="token punctuation">(</span>mySecondSource<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//a second async call!</span>
    <span class="token keyword">return</span> newPromise<span class="token punctuation">;</span> <span class="token comment">//return the promise.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//`outerPromise` now takes on the state and data of `newPromise`</span>

outerPromise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>secondData<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//do something with `secondData`, the data downloaded from `mySecondSource`</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Going back to <code>fetch()</code> to bring it all together: since the <code>.json()</code> encoding function returns a Promise, you can simply <em>return</em> that Promise from the <code>.then()</code> callback in order to make it available to subsequent <code>.then()</code> calls!</p>
<pre class="language-js"><code><span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>  <span class="token comment">//start the download</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//when done downloading</span>
        <span class="token keyword">let</span> dataPromise <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//start encoding into an object</span>
        <span class="token keyword">return</span> dataPromise<span class="token punctuation">;</span>  <span class="token comment">//hand this Promise up</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//when done encoding</span>
        <span class="token comment">//do something with the data!!</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//will now be encoded as a JavaScript object!</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>This code example will allow you to download data and encode it into a plain old JavaScript object that you can work with.</p>
</div>
<div id="handling-errors" class="section level3 unnumbered">
<h3>Handling Errors</h3>
<p>When downloading data from the internet, it is always possible that the HTTP request may fail. The request may be sent to the wrong URL, the client computer may be having connection problems, or the receiving server may be having problems.</p>
<p>In order to deal with inevitable errors, Promises provide a <strong><code>.catch()</code></strong> method that is used to specify a callback that should occur if the Promise is <em>rejected</em> (an error occurs). This callback function will be passed an <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error object</a> that contains details about the error.</p>
<pre class="language-js"><code><span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//when done downloading</span>
        <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//second promise is anonymous</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//when done encoding</span>
        <span class="token comment">//do something with the data!!</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//will now be encoded as a JavaScript object!</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//do something with the error</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//e.g., show in the console</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li><p>Importantly, the <code>.catch()</code> method will âcatchâ errors from <em>all previous</em> Promises in a <code>.then()</code> chain! This means that the above <code>.catch()</code> will show both errors in the downloading (<code>.fetch()</code>), and errors in the body encoding (<code>.json()</code>).</p></li>
<li><p>You will almost always want to show the error to the user in some way, such as by creating an <a href="http://getbootstrap.com/docs/4.0/components/alerts/">alert</a> element in the DOM.</p></li>
<li><p>The <code>.catch()</code> function <em>also</em> returns a Promise, so you can continue to chain <code>.then()</code> calls after it. These later callbacks will only be executed if no previous Promise has been rejected (that is, there havenât been any errors yet).</p></li>
</ul>
<p><strong>Important</strong>: a Promise will only be rejected if there is an actual âErrorâ in sending the request. If the server replies with a <a href="https://httpstatuses.com/401">401</a> error (e.g., you didnât have permission to access the resource) or just the message âinvalid API keyâ, that wonât be handled by <code>.catch()</code>. From JavaScriptâs perspective, the request went through perfectlyâitâs not fetchâs fault that the data you asked for wasnât what you actually wanted!</p>
<ul>
<li>You can use the <code>response.status</code> and <code>response.ok</code> properties to check the status of the HTTP response.</li>
</ul>
<p>As such, you will want to make sure to handle things like bad responses or unexpected response bodies, both in testing your application (to make sure the request is sent to the correct URL) and when handling any user input.</p>
<!--
## async/await
//this lets you write asynchronous code in a more "synchronous" style, by specifying lines of code that will only execute after the promise is resolved (fulfilled or rejected).

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function
https://hackernoon.com/6-reasons-why-javascripts-async-await-blows-promises-away-tutorial-c7ec10518dd9
-->
<!--
//forms go here... or just walk through making one in exercise!
    //form: `method` and `action`
    //input elements
    //labels
    //aria
    //preventing default
-->
</div>
</div>
<div id="resources-12" class="section level2 unnumbered">
<h2>Resources</h2>
<div class="list-condensed">
<ul>
<li><a href="https://webdesign.tutsplus.com/tutorials/an-introduction-to-ajax-for-front-end-designers--cms-25099">An Introduction to AJAX for Front-End Developers (tuts+)</a></li>
<li><a href="https://developers.google.com/web/updates/2015/03/introduction-to-fetch">An Introduction to <code>fetch()</code> (Google)</a></li>
<li><a href="https://developers.google.com/web/fundamentals/primers/promises">JavaScript Promises: an Introduction (Google)</a></li>
</ul>
</div>
<!-- http://papaparse.com/ <- csv parsing -->

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="javascript-libraries.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="es6.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["github", "facebook", "twitter", "google"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/info340/book/edit/master/ajax.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
